<form [formGroup]="registrationForm" class="form-signin"
      (ngSubmit)="submit(registrationForm.value, registrationForm.valid, registrationForm)">

  <h2 class="form-signin-heading">Please register to start playing</h2>

  <div class="form-group" [class.has-danger]="registrationForm.controls.name.dirty && !registrationForm.controls.name.valid">
    <label for="nameInput">Your Name</label>
    <input type="text" class="form-control" id="nameInput" placeholder="Enter name"
           formControlName="name">
    <div *ngIf="registrationForm.controls.name.dirty && !registrationForm.controls.name.valid">
      <div *ngIf="registrationForm.controls.name.errors?.required"
           class="form-control-feedback">Name is required</div>
      <div *ngIf="registrationForm.controls.name.errors?.minlength"
           class="form-control-feedback">
        Name too short (min {{registrationForm.controls.name.errors.minlength.requiredLength}} characters)
      </div>
    </div>
    <small id="nameHelp" class="form-text text-muted">Just use anything for the game to name you.</small>
  </div>

  <div class="form-group" [class.has-danger]="registrationForm.controls.email.dirty && !registrationForm.controls.email.valid">
    <label for="emailInput">Email</label>
    <input type="email" class="form-control" id="emailInput" placeholder="Enter email"
           formControlName="email">
    <div *ngIf="registrationForm.controls.email.dirty && !registrationForm.controls.email.valid">
      <div *ngIf="registrationForm.controls.email.errors?.required"
           class="form-control-feedback">Email is required</div>
      <div *ngIf="registrationForm.controls.email.errors?.minlength"
           class="form-control-feedback">
        Email too short (min {{registrationForm.controls.email.errors.minlength.requiredLength}} characters)
      </div>
      <div *ngIf="registrationForm.controls.email.errors?.pattern"
           class="form-control-feedback">
        Invalid email address (regex {{registrationForm.controls.email.errors.pattern.requiredPattern}})
      </div>
    </div>
    <small id="emailHelp" class="form-text text-muted">This will identify you uniquely in the game.</small>
  </div>

  <button type="submit" class="btn btn-lg btn-primary btn-block"
          [disabled]="!registrationForm.valid">Register</button>

</form>
